{% extends "main/page.html.twig" %}

{% block title %}Contactez moi
{% endblock %}

{% block sections %}
<section class="page-section" id="about">
	<div class="container">
		<div class="row">
			<div class="col-md-6">
				<h3>Envoyer un message</h3>
				<hr>

				{{ form_start(form) }}

				<div class="row center">
					<div class="col-sm">
						{{ form_row(form.name , {label: "Prénom*"}) }}
					</div>
					<div class="col-sm">
						{{ form_row(form.lastName , {label: "Nom*"}) }}
					</div>
				</div>

				{{ form_row(form.topic, {label: "Votre demande concerne"}) }}
				<div id="otherTopic" style="display: none">
					{{ form_row(form.otherTopic, {label: "Précisez"}) }}
				</div>

				{{ form_row(form.email, {label: "Email*"}) }}
				{{ form_row(form.content, {label: "Message*"}) }}
				{{ form_row(form.date, {label: "Date de l\"évènement"}) }}
				{{ form_row(form.howDoYouKnowMe, {label: "Comment m\'avez-vous connu ?"}) }}
				{{ form_row(form.captcha) }}

				<div class="important-info">
					{{ form_row(form.interest) }}
					{{ form_row(form.faxNumber) }}
				</div>

				{{ form_row(form.envoyer) }}
				{% if cancelUrl is defined %} 
					<a class="btn btn-danger" href="{{cancelUrl}}">Annuler</a>
				{% endif %}

				{% for message in app.flashes("success") %}
					<div class="alert alert-success">
						{{message}}
					</div>
				{% endfor %}

				{{ form_end(form) }}
			</div>
			<div class="col-md-3 my-3"></div>
			<div class="col-md-3 my-auto">
				<h5>Adresse</h5>
				<p>{{info.adresse}}</p>
				<h5>Email</h5>
				<p>{{info.email}}</p>
				<h5>Telephone</h5>
				<p>{{info.phone}}</p>
			</div>

		</div>
	</div>
</section>
{% endblock %}


{% block javascripts %}
<script>
document.getElementById("message_form_topic").addEventListener("change", function () {
if (this.value === "Autre") 
document.getElementById("otherTopic").style.display = "block"
 else 
document.getElementById("otherTopic").style.display = "none"
});
</script>
{% endblock %}
